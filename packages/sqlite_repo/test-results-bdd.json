[
  {
    "description": "  As a database plugin developer\n  I want to implement the Repository interface correctly\n  So that MeshQL can use any database backend reliably",
    "elements": [
      {
        "description": "",
        "id": "repository-contract;creating-a-new-envelope",
        "keyword": "Scenario",
        "line": 9,
        "name": "Creating a new envelope",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 925557
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository instance",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:5"
            },
            "result": {
              "status": "passed",
              "duration": 864521
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count"
                    ]
                  },
                  {
                    "cells": [
                      "Create Test",
                      "3"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 10,
            "name": "I create envelopes:",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:21"
            },
            "result": {
              "status": "passed",
              "duration": 785446
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 13,
            "name": "the envelopes should have generated IDs",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:119"
            },
            "result": {
              "status": "passed",
              "duration": 59796
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "the envelopes created_at should be greater than or equal to the test start time",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 43110
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 15,
            "name": "the envelopes deleted flag should be false",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:132"
            },
            "result": {
              "status": "passed",
              "duration": 50304
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 1416727
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "repository-contract;reading-an-envelope-by-id",
        "keyword": "Scenario",
        "line": 17,
        "name": "Reading an envelope by ID",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 63020
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository instance",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:5"
            },
            "result": {
              "status": "passed",
              "duration": 437123
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count"
                    ]
                  },
                  {
                    "cells": [
                      "Read Test",
                      "51"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 18,
            "name": "I have created envelopes:",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:12"
            },
            "result": {
              "status": "passed",
              "duration": 493028
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 21,
            "name": "I read envelopes [\"Read Test\"] by their IDs",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:56"
            },
            "result": {
              "status": "passed",
              "duration": 395745
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 22,
            "name": "I should receive 1 envelope",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:138"
            },
            "result": {
              "status": "passed",
              "duration": 51195
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 23,
            "name": "the payload name should be \"Read Test\"",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:146"
            },
            "result": {
              "status": "failed",
              "duration": 1256636,
              "error_message": "AssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\n+ actual - expected\n\n+ undefined\n- 'Read Test'\n    at TestWorld.<anonymous> (/tank/repos/meshobj/packages/common/test/steps/repository.steps.ts:147:12)"
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 150934
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "repository-contract;listing-all-envelopes",
        "keyword": "Scenario",
        "line": 25,
        "name": "Listing all envelopes",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 83438
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository instance",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:5"
            },
            "result": {
              "status": "passed",
              "duration": 245065
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count"
                    ]
                  },
                  {
                    "cells": [
                      "test1",
                      "4"
                    ]
                  },
                  {
                    "cells": [
                      "test2",
                      "45"
                    ]
                  },
                  {
                    "cells": [
                      "test3",
                      "2"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 26,
            "name": "I have created envelopes:",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:12"
            },
            "result": {
              "status": "passed",
              "duration": 633840
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 31,
            "name": "I list all envelopes",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:87"
            },
            "result": {
              "status": "passed",
              "duration": 277300
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 32,
            "name": "I should receive exactly 3 envelopes",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:142"
            },
            "result": {
              "status": "passed",
              "duration": 71099
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 62285
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "repository-contract;removing-envelopes-by-id",
        "keyword": "Scenario",
        "line": 34,
        "name": "Removing envelopes by ID",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 50568
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository instance",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:5"
            },
            "result": {
              "status": "passed",
              "duration": 151771
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count"
                    ]
                  },
                  {
                    "cells": [
                      "Read Test",
                      "51"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 35,
            "name": "I have created envelopes:",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:12"
            },
            "result": {
              "status": "passed",
              "duration": 137651
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 38,
            "name": "I remove envelopes [\"Read Test\"] by their IDs",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:72"
            },
            "result": {
              "status": "passed",
              "duration": 147690
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 39,
            "name": "the remove operations should return true",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:155"
            },
            "result": {
              "status": "passed",
              "duration": 29107
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 40,
            "name": "reading envelopes [\"Read Test\"] by their IDs should return nothing",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:102"
            },
            "result": {
              "status": "passed",
              "duration": 111657
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 73012
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "repository-contract;reading-multiple-envelopes-by-ids",
        "keyword": "Scenario",
        "line": 42,
        "name": "Reading multiple envelopes by IDs",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 56729
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository instance",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:5"
            },
            "result": {
              "status": "passed",
              "duration": 141578
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count"
                    ]
                  },
                  {
                    "cells": [
                      "test1",
                      "4"
                    ]
                  },
                  {
                    "cells": [
                      "test2",
                      "45"
                    ]
                  },
                  {
                    "cells": [
                      "test3",
                      "2"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 43,
            "name": "I have created envelopes:",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:12"
            },
            "result": {
              "status": "passed",
              "duration": 214803
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 48,
            "name": "I read envelopes [\"test1\", \"test2\"] by their IDs",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:56"
            },
            "result": {
              "status": "passed",
              "duration": 197477
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 49,
            "name": "I should receive exactly 2 envelopes",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:142"
            },
            "result": {
              "status": "passed",
              "duration": 23312
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 71173
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "repository-contract;removing-multiple-envelopes-by-ids",
        "keyword": "Scenario",
        "line": 51,
        "name": "Removing multiple envelopes by IDs",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 30690
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository instance",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:5"
            },
            "result": {
              "status": "passed",
              "duration": 112115
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count"
                    ]
                  },
                  {
                    "cells": [
                      "test1",
                      "4"
                    ]
                  },
                  {
                    "cells": [
                      "test2",
                      "45"
                    ]
                  },
                  {
                    "cells": [
                      "test3",
                      "2"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 52,
            "name": "I have created envelopes:",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:12"
            },
            "result": {
              "status": "passed",
              "duration": 239917
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 57,
            "name": "I remove envelopes [\"test1\", \"test2\"] by their IDs",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:72"
            },
            "result": {
              "status": "passed",
              "duration": 162788
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 58,
            "name": "the remove operations should return true for the removed IDs",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:159"
            },
            "result": {
              "status": "passed",
              "duration": 37205
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 59,
            "name": "listing all envelopes should show exactly 1 envelope",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:169"
            },
            "result": {
              "status": "passed",
              "duration": 85670
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 29208
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "repository-contract;temporal-versioning---multiple-versions-of-the-same-id",
        "keyword": "Scenario",
        "line": 61,
        "name": "Temporal versioning - multiple versions of the same ID",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 24636
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository instance",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:5"
            },
            "result": {
              "status": "passed",
              "duration": 143123
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "version",
                      "msg"
                    ]
                  },
                  {
                    "cells": [
                      "doc1",
                      "v1",
                      "First version"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 62,
            "name": "I create envelopes:",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:21"
            },
            "result": {
              "status": "passed",
              "duration": 99167
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 65,
            "name": "I capture the current timestamp as \"t1\"",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:30"
            },
            "result": {
              "status": "passed",
              "duration": 37767
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 66,
            "name": "I wait 50 milliseconds",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:34"
            },
            "result": {
              "status": "passed",
              "duration": 51155033
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "version",
                      "msg"
                    ]
                  },
                  {
                    "cells": [
                      "v2",
                      "Second version"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 67,
            "name": "I create a new version of envelope \"doc1\":",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:38"
            },
            "result": {
              "status": "passed",
              "duration": 1155068
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 70,
            "name": "I capture the current timestamp as \"t2\"",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:30"
            },
            "result": {
              "status": "passed",
              "duration": 140372
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 71,
            "name": "reading envelope \"doc1\" at timestamp \"t2\" should return version \"v2\"",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:91"
            },
            "result": {
              "status": "passed",
              "duration": 618979
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 72,
            "name": "reading envelope \"doc1\" at timestamp \"t1\" should return version \"v1\"",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:91"
            },
            "result": {
              "status": "passed",
              "duration": 592562
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 385113
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "repository-contract;listing-only-returns-the-latest-version",
        "keyword": "Scenario",
        "line": 74,
        "name": "Listing only returns the latest version",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 329243
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository instance",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:5"
            },
            "result": {
              "status": "passed",
              "duration": 706065
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "version",
                      "msg"
                    ]
                  },
                  {
                    "cells": [
                      "doc1",
                      "v1",
                      "First version"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Given ",
            "line": 75,
            "name": "I create envelopes:",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:21"
            },
            "result": {
              "status": "passed",
              "duration": 526631
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 78,
            "name": "I wait 50 milliseconds",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:34"
            },
            "result": {
              "status": "passed",
              "duration": 50416592
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "version",
                      "msg"
                    ]
                  },
                  {
                    "cells": [
                      "v2",
                      "Second version"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 79,
            "name": "I create a new version of envelope \"doc1\":",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:38"
            },
            "result": {
              "status": "passed",
              "duration": 1444817
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 82,
            "name": "I list all envelopes",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:87"
            },
            "result": {
              "status": "passed",
              "duration": 757053
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 83,
            "name": "I should receive exactly 1 envelope",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:142"
            },
            "result": {
              "status": "passed",
              "duration": 124606
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 84,
            "name": "the payload version should be \"v2\"",
            "match": {
              "location": "../common/test/steps/repository.steps.ts:150"
            },
            "result": {
              "status": "passed",
              "duration": 180098
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 188975
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "repository-contract",
    "line": 1,
    "keyword": "Feature",
    "name": "Repository Contract",
    "tags": [],
    "uri": "../common/test/features/repository.feature"
  },
  {
    "description": "  As a database plugin developer\n  I want to implement the Searcher interface correctly\n  So that MeshQL can query data using Handlebars templates across any database",
    "elements": [
      {
        "description": "",
        "id": "searcher-contract;finding-a-singleton-by-id-with-non-existent-id",
        "keyword": "Scenario",
        "line": 23,
        "name": "Finding a singleton by ID with non-existent ID",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 127924
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository and searcher instance",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 1347771
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count",
                      "type"
                    ]
                  },
                  {
                    "cells": [
                      "Bruce",
                      "1",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Charlie",
                      "2",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Danny",
                      "3",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Ewan",
                      "4",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Fred",
                      "5",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Greg",
                      "6",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Henry",
                      "7",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Ian",
                      "8",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Gretchen",
                      "9",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Casie",
                      "9",
                      "A"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 8,
            "name": "I have created and saved the following test dataset:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:15"
            },
            "result": {
              "status": "passed",
              "duration": 4632310
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "I have removed envelope \"Gretchen\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 719005
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I have updated envelope \"Casie\" to \"Cassie\" with count 10",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:31"
            },
            "result": {
              "status": "passed",
              "duration": 636060
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "id",
                      "non-existent-id"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 24,
            "name": "I search using template \"findById\" with parameters:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:45"
            },
            "result": {
              "status": "failed",
              "duration": 842472,
              "error_message": "TypeError: Cannot set properties of undefined (setting '_created_at')\n    at SQLiteSearcher.find (/tank/repos/meshobj/packages/sqlite_repo/src/sqliteSearcher.ts:58:25)\n    at TestWorld.<anonymous> (/tank/repos/meshobj/packages/common/test/steps/searcher.steps.ts:53:46)"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 26,
            "name": "the search result should be empty",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:67"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 213520
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "searcher-contract;finding-a-singleton-by-id",
        "keyword": "Scenario",
        "line": 28,
        "name": "Finding a singleton by ID",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 272672
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository and searcher instance",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 688216
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count",
                      "type"
                    ]
                  },
                  {
                    "cells": [
                      "Bruce",
                      "1",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Charlie",
                      "2",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Danny",
                      "3",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Ewan",
                      "4",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Fred",
                      "5",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Greg",
                      "6",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Henry",
                      "7",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Ian",
                      "8",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Gretchen",
                      "9",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Casie",
                      "9",
                      "A"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 8,
            "name": "I have created and saved the following test dataset:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:15"
            },
            "result": {
              "status": "passed",
              "duration": 1816221
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "I have removed envelope \"Gretchen\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 442283
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I have updated envelope \"Casie\" to \"Cassie\" with count 10",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:31"
            },
            "result": {
              "status": "passed",
              "duration": 571684
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "id",
                      "Bruce"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 29,
            "name": "I search using template \"findById\" with parameters:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:45"
            },
            "result": {
              "status": "failed",
              "duration": 273386,
              "error_message": "TypeError: Cannot set properties of undefined (setting '_created_at')\n    at SQLiteSearcher.find (/tank/repos/meshobj/packages/sqlite_repo/src/sqliteSearcher.ts:58:25)\n    at TestWorld.<anonymous> (/tank/repos/meshobj/packages/common/test/steps/searcher.steps.ts:53:46)"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 31,
            "name": "the search result should have name \"Bruce\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:71"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 32,
            "name": "the search result should have count 1",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:75"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 227476
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "searcher-contract;finding-a-singleton-by-name",
        "keyword": "Scenario",
        "line": 34,
        "name": "Finding a singleton by name",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 127868
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository and searcher instance",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 924943
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count",
                      "type"
                    ]
                  },
                  {
                    "cells": [
                      "Bruce",
                      "1",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Charlie",
                      "2",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Danny",
                      "3",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Ewan",
                      "4",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Fred",
                      "5",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Greg",
                      "6",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Henry",
                      "7",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Ian",
                      "8",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Gretchen",
                      "9",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Casie",
                      "9",
                      "A"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 8,
            "name": "I have created and saved the following test dataset:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:15"
            },
            "result": {
              "status": "passed",
              "duration": 2036464
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "I have removed envelope \"Gretchen\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 551196
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I have updated envelope \"Casie\" to \"Cassie\" with count 10",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:31"
            },
            "result": {
              "status": "passed",
              "duration": 413102
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "id",
                      "Ewan"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 35,
            "name": "I search using template \"findByName\" with parameters:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:45"
            },
            "result": {
              "status": "failed",
              "duration": 266108,
              "error_message": "TypeError: Cannot set properties of undefined (setting '_created_at')\n    at SQLiteSearcher.find (/tank/repos/meshobj/packages/sqlite_repo/src/sqliteSearcher.ts:58:25)\n    at TestWorld.<anonymous> (/tank/repos/meshobj/packages/common/test/steps/searcher.steps.ts:53:46)"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 37,
            "name": "the search result should have name \"Ewan\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:71"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 207625
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "searcher-contract;finding-all-records-by-type",
        "keyword": "Scenario",
        "line": 39,
        "name": "Finding all records by type",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 94166
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository and searcher instance",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 511053
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count",
                      "type"
                    ]
                  },
                  {
                    "cells": [
                      "Bruce",
                      "1",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Charlie",
                      "2",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Danny",
                      "3",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Ewan",
                      "4",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Fred",
                      "5",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Greg",
                      "6",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Henry",
                      "7",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Ian",
                      "8",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Gretchen",
                      "9",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Casie",
                      "9",
                      "A"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 8,
            "name": "I have created and saved the following test dataset:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:15"
            },
            "result": {
              "status": "passed",
              "duration": 1812298
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "I have removed envelope \"Gretchen\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 505710
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I have updated envelope \"Casie\" to \"Cassie\" with count 10",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:31"
            },
            "result": {
              "status": "passed",
              "duration": 425938
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "id",
                      "A"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 40,
            "name": "I search all using template \"findAllByType\" with parameters:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:56"
            },
            "result": {
              "status": "failed",
              "duration": 584242,
              "error_message": "TypeError: Cannot set properties of undefined (setting '_created_at')\n    at SQLiteSearcher.findAll (/tank/repos/meshobj/packages/sqlite_repo/src/sqliteSearcher.ts:84:25)\n    at TestWorld.<anonymous> (/tank/repos/meshobj/packages/common/test/steps/searcher.steps.ts:64:47)"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 42,
            "name": "I should receive exactly 5 results",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:79"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 43,
            "name": "the results should include an envelope with name \"Charlie\" and count 2",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:83"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 177220
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "searcher-contract;finding-all-records-by-type-and-name",
        "keyword": "Scenario",
        "line": 45,
        "name": "Finding all records by type and name",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 69457
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository and searcher instance",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 599032
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count",
                      "type"
                    ]
                  },
                  {
                    "cells": [
                      "Bruce",
                      "1",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Charlie",
                      "2",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Danny",
                      "3",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Ewan",
                      "4",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Fred",
                      "5",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Greg",
                      "6",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Henry",
                      "7",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Ian",
                      "8",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Gretchen",
                      "9",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Casie",
                      "9",
                      "A"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 8,
            "name": "I have created and saved the following test dataset:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:15"
            },
            "result": {
              "status": "passed",
              "duration": 1586409
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "I have removed envelope \"Gretchen\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 324863
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I have updated envelope \"Casie\" to \"Cassie\" with count 10",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:31"
            },
            "result": {
              "status": "passed",
              "duration": 316799
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "Henry"
                    ]
                  },
                  {
                    "cells": [
                      "type",
                      "B"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 46,
            "name": "I search all using template \"findByNameAndType\" with parameters:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:56"
            },
            "result": {
              "status": "passed",
              "duration": 6904802
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 49,
            "name": "I should receive exactly 1 result",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:79"
            },
            "result": {
              "status": "failed",
              "duration": 271120,
              "error_message": "AssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\n\n0 !== 1\n\n    + expected - actual\n\n    -0\n    +1\n\n    at TestWorld.<anonymous> (/tank/repos/meshobj/packages/common/test/steps/searcher.steps.ts:80:12)"
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 50,
            "name": "the results should include an envelope with name \"Henry\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:88"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 46073
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "searcher-contract;finding-all-with-non-existent-type",
        "keyword": "Scenario",
        "line": 52,
        "name": "Finding all with non-existent type",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 20344
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository and searcher instance",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 109519
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count",
                      "type"
                    ]
                  },
                  {
                    "cells": [
                      "Bruce",
                      "1",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Charlie",
                      "2",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Danny",
                      "3",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Ewan",
                      "4",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Fred",
                      "5",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Greg",
                      "6",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Henry",
                      "7",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Ian",
                      "8",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Gretchen",
                      "9",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Casie",
                      "9",
                      "A"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 8,
            "name": "I have created and saved the following test dataset:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:15"
            },
            "result": {
              "status": "passed",
              "duration": 409546
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "I have removed envelope \"Gretchen\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 91824
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I have updated envelope \"Casie\" to \"Cassie\" with count 10",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:31"
            },
            "result": {
              "status": "passed",
              "duration": 2247435
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "id",
                      "C"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 53,
            "name": "I search all using template \"findAllByType\" with parameters:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:56"
            },
            "result": {
              "status": "failed",
              "duration": 59187,
              "error_message": "TypeError: Cannot set properties of undefined (setting '_created_at')\n    at SQLiteSearcher.findAll (/tank/repos/meshobj/packages/sqlite_repo/src/sqliteSearcher.ts:84:25)\n    at TestWorld.<anonymous> (/tank/repos/meshobj/packages/common/test/steps/searcher.steps.ts:64:47)"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 55,
            "name": "I should receive exactly 0 results",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:79"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 41118
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "searcher-contract;handling-empty-query-parameters",
        "keyword": "Scenario",
        "line": 57,
        "name": "Handling empty query parameters",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 21442
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "a fresh repository and searcher instance",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 125657
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "name",
                      "count",
                      "type"
                    ]
                  },
                  {
                    "cells": [
                      "Bruce",
                      "1",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Charlie",
                      "2",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Danny",
                      "3",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Ewan",
                      "4",
                      "A"
                    ]
                  },
                  {
                    "cells": [
                      "Fred",
                      "5",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Greg",
                      "6",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Henry",
                      "7",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Ian",
                      "8",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Gretchen",
                      "9",
                      "B"
                    ]
                  },
                  {
                    "cells": [
                      "Casie",
                      "9",
                      "A"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 8,
            "name": "I have created and saved the following test dataset:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:15"
            },
            "result": {
              "status": "passed",
              "duration": 372654
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "I have removed envelope \"Gretchen\"",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 67522
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I have updated envelope \"Casie\" to \"Cassie\" with count 10",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:31"
            },
            "result": {
              "status": "passed",
              "duration": 79478
            }
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "id",
                      "foo"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 58,
            "name": "I search all using template \"findByNameAndType\" with parameters:",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:56"
            },
            "result": {
              "status": "failed",
              "duration": 44846,
              "error_message": "TypeError: Cannot set properties of undefined (setting '_created_at')\n    at SQLiteSearcher.findAll (/tank/repos/meshobj/packages/sqlite_repo/src/sqliteSearcher.ts:84:25)\n    at TestWorld.<anonymous> (/tank/repos/meshobj/packages/common/test/steps/searcher.steps.ts:64:47)"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 60,
            "name": "I should receive exactly 0 results",
            "match": {
              "location": "../common/test/steps/searcher.steps.ts:79"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 35356
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "searcher-contract",
    "line": 1,
    "keyword": "Feature",
    "name": "Searcher Contract",
    "tags": [],
    "uri": "../common/test/features/searcher.feature"
  }
]