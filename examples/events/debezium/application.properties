# ---- Debezium Server (source: MongoDB, sink: Kafka) ----

# Source connector
debezium.source.connector.class=io.debezium.connector.mongodb.MongoDbConnector
debezium.source.mongodb.hosts=rs0/mongodb:27017
debezium.source.topic.prefix=events
debezium.source.capture.mode=change_streams
debezium.source.publish.full.document.only=true
# Limit to the two collections we care about
debezium.source.collection.include.list=events_db.raw_events,events_db.processed_events
# Get full doc on updates (Mongo 4.4+)
debezium.source.mongodb.change.stream.full.document=updateLookup

# (If you enable auth on Mongo, add user/password here)
# debezium.source.mongodb.user=debezium
# debezium.source.mongodb.password=debeziumpw
# debezium.source.mongodb.auth.source=admin

# Sink: Kafka (Redpanda)
debezium.sink.type=kafka
debezium.sink.kafka.bootstrap.servers=redpanda:9092

# Serialization
debezium.format.key=json
debezium.format.value=json

# Optional: reduce noise
debezium.source.tombstones.on.delete=false
debezium.source.message.key.columns=events_db.raw_events:_id,events_db.processed_events:_i